--- a/src/vrend/vrend_formats.c	2026-01-12 14:45:19
+++ b/src/vrend/vrend_formats.c	2026-01-12 14:45:17
@@ -357,6 +357,20 @@
   { VIRGL_FORMAT_B8G8R8A8_SRGB, GL_SRGB8_ALPHA8, GL_BGRA, GL_UNSIGNED_BYTE, NO_SWIZZLE, view_class_32 },
 };
 
+#ifdef __APPLE__
+/*
+ * macOS with ANGLE/Metal: Use GL_RGBA format (works for rendering)
+ * with BGR1_SWIZZLE/BGRA_SWIZZLE to swap channels during sampling.
+ * GL_BGRA format doesn't work properly as a render target on Metal backend.
+ */
+static struct vrend_format_table macos_bgra_formats[] = {
+  { VIRGL_FORMAT_B8G8R8X8_UNORM, GL_RGBA8,        GL_RGBA,     GL_UNSIGNED_BYTE, BGR1_SWIZZLE, view_class_32 },
+  { VIRGL_FORMAT_B8G8R8A8_UNORM, GL_RGBA8,        GL_RGBA,     GL_UNSIGNED_BYTE, BGRA_SWIZZLE, view_class_32 },
+  { VIRGL_FORMAT_B8G8R8X8_SRGB,  GL_SRGB8_ALPHA8, GL_RGBA,     GL_UNSIGNED_BYTE, BGR1_SWIZZLE, view_class_32 },
+  { VIRGL_FORMAT_B8G8R8A8_SRGB,  GL_SRGB8_ALPHA8, GL_RGBA,     GL_UNSIGNED_BYTE, BGRA_SWIZZLE, view_class_32 }
+};
+#endif
+
 static struct vrend_format_table gles_bgra_formats[] = {
   { VIRGL_FORMAT_B8G8R8X8_UNORM, GL_RGBA8,        GL_RGBA,     GL_UNSIGNED_BYTE, RGB1_SWIZZLE, view_class_32 },
   { VIRGL_FORMAT_B8G8R8A8_UNORM, GL_RGBA8,        GL_RGBA,     GL_UNSIGNED_BYTE, NO_SWIZZLE, view_class_32 },
@@ -593,7 +607,12 @@
    * transfer operations. So we only register support for it in GL.
    */
   add_formats(gl_base_rgba_formats);
-  add_formats(gl_bgra_formats);
+  /* macOS: Use GL_RGBA format with BGRA swizzle (GL_BGRA doesn't work as render target on Metal) */
+#if defined(__APPLE__)
+     add_formats(macos_bgra_formats);
+  #else
+     add_formats(gl_bgra_formats);
+  #endif
   add_formats(gl_bit10_formats);
 }
 
