--- a/src/vrend/vrend_metal.h	2026-02-04 23:59:21
+++ b/src/vrend/vrend_metal.h	2026-02-04 23:57:55
@@ -19,6 +19,11 @@
    unsigned bind;
    unsigned usage;
    uint32_t format;
+   /* Texture swizzle for formats like A8_UNORM (macOS 11.0+) */
+   unsigned char swizzle_red;    /* Default: 0 (MTLTextureSwizzleRed) */
+   unsigned char swizzle_green;  /* Default: 1 (MTLTextureSwizzleGreen) */
+   unsigned char swizzle_blue;   /* Default: 2 (MTLTextureSwizzleBlue) */
+   unsigned char swizzle_alpha;  /* Default: 3 (MTLTextureSwizzleAlpha) */
 };
 
 bool virgl_metal_create_texture(MTLDevice_id device,
--- a/src/vrend/vrend_metal.m	2026-02-04 23:59:21
+++ b/src/vrend/vrend_metal.m	2026-02-04 23:58:26
@@ -71,6 +71,45 @@
    }
 }
 
+struct metal_swizzle_conversion {
+   uint32_t virgl_format;
+   unsigned char swizzle_red;
+   unsigned char swizzle_green;
+   unsigned char swizzle_blue;
+   unsigned char swizzle_alpha;
+};
+
+static bool virgl_format_to_metal_swizzle(uint32_t format,
+                                            unsigned char *swizzle_red,
+                                            unsigned char *swizzle_green,
+                                            unsigned char *swizzle_blue,
+                                            unsigned char *swizzle_alpha)
+{
+   /* Format swizzle mappings for textures requiring component remapping.
+    * MTLTextureSwizzle: Red=0, Green=1, Blue=2, Alpha=3, Zero=4, One=5
+    * OOOR_SWIZZLE for A8_UNORM: RGB=Zero, A=Red (alpha from red channel) */
+   static const struct metal_swizzle_conversion swizzles[] = {
+      { VIRGL_FORMAT_A8_UNORM, 4, 4, 4, 0 },  /* OOOR: RGB=Zero, A=Red */
+   };
+
+   for (uint32_t i = 0; i < ARRAY_SIZE(swizzles); i++) {
+      if (swizzles[i].virgl_format == format) {
+         *swizzle_red = swizzles[i].swizzle_red;
+         *swizzle_green = swizzles[i].swizzle_green;
+         *swizzle_blue = swizzles[i].swizzle_blue;
+         *swizzle_alpha = swizzles[i].swizzle_alpha;
+         return true;
+      }
+   }
+
+   /* Default: identity swizzle (no remapping) */
+   *swizzle_red = 0;   /* MTLTextureSwizzleRed */
+   *swizzle_green = 1; /* MTLTextureSwizzleGreen */
+   *swizzle_blue = 2;  /* MTLTextureSwizzleBlue */
+   *swizzle_alpha = 3; /* MTLTextureSwizzleAlpha */
+   return false;
+}
+
 static MTLTextureDescriptor *new_descriptor(const struct vrend_metal_texture_description *desc)
 {
    MTLPixelFormat pixel_format;
@@ -90,6 +129,19 @@
       descriptor.usage &= ~MTLTextureUsageShaderWrite;
    }
 
+#if defined(__MAC_11_0) || defined(__IPHONE_14_0)
+   /* Apply texture swizzle for formats requiring component remapping */
+   if (@available(macOS 11.0, iOS 14.0, *)) {
+      if (desc->swizzle_red || desc->swizzle_green || desc->swizzle_blue || desc->swizzle_alpha) {
+         descriptor.swizzle = MTLTextureSwizzleChannelsMake(
+            (MTLTextureSwizzle)desc->swizzle_red,
+            (MTLTextureSwizzle)desc->swizzle_green,
+            (MTLTextureSwizzle)desc->swizzle_blue,
+            (MTLTextureSwizzle)desc->swizzle_alpha);
+      }
+   }
+#endif
+
    return descriptor;
 }
 
--- a/src/virglrenderer.c	2026-02-04 23:59:21
+++ b/src/virglrenderer.c	2026-02-04 23:58:44
@@ -1580,6 +1580,19 @@
       .usage = PIPE_USAGE_IMMUTABLE,
       .format = virgl_format,
    };
+
+   /* Get swizzle values for this format (macOS 11.0+) */
+   extern bool virgl_format_to_metal_swizzle(uint32_t format,
+                                               unsigned char *swizzle_red,
+                                               unsigned char *swizzle_green,
+                                               unsigned char *swizzle_blue,
+                                               unsigned char *swizzle_alpha);
+   virgl_format_to_metal_swizzle(desc.format,
+                                  &desc.swizzle_red,
+                                  &desc.swizzle_green,
+                                  &desc.swizzle_blue,
+                                  &desc.swizzle_alpha);
+
    MTLTexture_id tex;
 
    if (!virgl_metal_create_texture_from_heap(res->metal_heap,
diff: src/vrend_vrend_renderer.c: No such file or directory
diff: src/vrend_vrend_winsys_egl.c: No such file or directory
